# 列

## 添加总计

显示名称、显示位置（列表左端右端）、计算依据（求和、平均值、最大值最小值）
编辑总计（数据回填）、取消总计

## 排序

### 顺序

升序、降序

### 依据

字母、度量（选择某个度量的某个聚合方式）

### 自定义

置顶置底（内部排序）

# 行

同上（列表顶端底端）

## 标题

字色字号字体
边框，对齐，背景，边框线

## 移除

# 指标

## 聚合方式

平均值、计数、去重计数、最大值最小值

## 排序

先选择维度，然后

# 条件格式设置 优先级 大于 表格区设置

# 总计

勾选“总计”后，用户可进对总计的算法进行选择，共有 4 种总计的方式，分别为：合计、平均值、最大值、最小值

# 显示设置

适应窗口，适应宽度，适应高度，最佳比例

# https://help.aliyun.com/document_detail/55666.html

**QBI**
使用场景、配置样式、如何删除交叉表。创建并下载取数任务

## 新交叉表

- 取数逻辑：根据全量数据集算，总计小计根据指标原有配置进行计算，计算完成后再分页。优势：总计小计或排序均可能影响计算结果。因此，优化后的新版交叉表统计全量数据的计算结果，使得结果更加准确
- 分页实现：后端分页，单击下一页会重新触发取数查询，合并同类单元格只是一种展示。优势：结果有差异，合并同类格场景下有差异，保证数据展示的正确性
  新旧切换：v311 版本后创建的交叉表均为新版交叉表，您可以通过版本切换，进行新旧交叉表切换。

# 概述

https://help.aliyun.com/document_detail/55666.html https://help.aliyun.com/document_detail/200338.htm?spm=a2c4g.11186623.2.10.6f824ff0uIoiFL#concept-wc5-zl2-vdb
交叉表可以显示表中某个字段的汇总值，并对同类数据合并。其中一组列在标的左侧，另一组列在表的上部。行和列的交叉处可以对数据进行多种汇总计算，例如求和、平均值、计数最大值最小值

交叉表由行和列组成：
行由数据的维度决定。例如省份和产品类型
列由数据的度量决定。例如订单数量和利润金额

> 交叉表的行和列对维度和度量的取值个数无限制。
> 交叉表导出限制一万行以内。带格式和纯数据导出为本地计算，电脑配置不同可能存在性能差异，建议 50 万单元格以上的导出，使用纯数据导出或者自助取数功能

以 company_sales_record 数据集为例，查看各省份不同类型产品的包装，及其订单数量和订单金额：使用场景示例：
登录 Quick BI 控制台。
单击工作空间 > 数据集。
在数据集管理页面。选择 company_sales_record 数据集，单击数据集所在行的图标。
说明 如果您使用的是专业版，需要您手动选择进入常规模式或者全屏模式。以下示例以常规模式为例。
单击交叉表图标。
交叉表的图例会自动显示在仪表板展示区。交叉表
在数据标签页，选择需要的维度字段和度量字段：
在维度列表中，找到省份、产品类型和产品包箱，依次双击或拖拽至行区域。
在度量列表中，找到订单数量、运输成本和利润金额，依次双击或拖拽至列区域。
单击更新，系统自动更新图表
您可以单击列右侧的《eye》图标，调整度量字段的别名、系列备注、聚合方式和数值展示格式和对齐方式，请参见配置[图表信息](https://help.aliyun.com/document_detail/65847.htm?spm=a2c4g.11186623.2.21.6f824ff0cn2xYp#concept-agk-n2y-5db)。

在样式标签页，更改图表的基础信息、展示型配置和功能型配置。
请参见

# 配置样式。

在基础信息中，设置显示主标题/备注、展示跳转链接和版本切换。
说明 选中展示跳转链接，在链接文件中添加显示的文案，并在链接地址中填入链接 URL。当您单击图表界面中的文案，可以直接跳转至需要的报表或外部链接。
在展示型配置中，设置自定义表格主题、是否不显示列表头、展示方式、显示序号、合并同类单元格、冻结、自动换行、显示分页、指标展示分组和列宽调整。

- 自定义表格主题：支持斑马线、框线、简版和极简四种主题。
  - 选定主题后，您还可以根据需要选择主色系和设置是否显示列表头。
- 展示方式支持平铺展示和树形展示。
  - 当选择树形展示时，您可以自定义行标签名称和默认展示的层级。
- 您可以通过智能（表头）冻结所有维度列。
- 支持显示的分页为 10 条/页、20 条/页、30 条/页、50 条/页、80 条/页和 100 条/页。
  您也可以在图表上调整分页条数。
- 支持设置指标分组展示。
- 支持调整交叉表的列宽。
  - 按容器自适应：系统会根据字段值自适应展示列宽。
  - 自定义：设置字段值的展示宽度。单位为像素，最小值为 25。
  - 在图表上拖动调整列宽。
- 在功能型配置中，设置条件格式和开启指标筛选展示。
  - 在条件格式中，设置数据的条件格式。16（图片序号请忽略）
    图表配置项 配置项说明
    请选择系列 添加到数据面板区域的字段均可选择。
    快捷样式 从指定的样式中，设置标记图标或字体显示颜色。
    自定义样式 自定义文本/背景、图标、色阶和数据条。
    同步样式到 同步当前的条件格式到其他字段中。
- 在总计配置中，设置列汇总和行汇总
  [总计 FAQ](https://help.aliyun.com/document_detail/200338.htm?spm=a2c4g.11186623.2.10.6f824ff0uIoiFL#section-mf6-z9d-1dj)

## 配置交叉表

除了在样式中配置交叉表外，对图表进行以下配置：
字段隐藏：在数据面板配置字段隐藏。
您可以在目标字段右侧单击隐藏图标，隐藏指标。

行维度和列维度的指标均支持隐藏，其中：
隐藏行维度指标后，该指标在图表中不显示，但参与分组和计算。
隐藏列维度指标后，该指标在图表中不显示，但参与总计计算。
字段排序：行维度指标支持按照度量或其他维度排序。字段排序
高级排序：高级排序一般适用于聚合表和明细表。行维度和列维度的指标均支持高级排序。
聚合表：高级排序用于批量修改或新增排序规则。
明细表：高级排序用于设置排序优先级。

## 高级配置（设置）

自动刷新，联动，跳转，

### 开启副指标展示

您配置度量指标后，即可开启并配置副指标。

勾选后，对比指标选择下拉框允许选择所有的度量指标。
对比日期选择：必须选中数据集中的一个日期字段
对比方式：根据日期字段的粒度，下面会显示对应的对比内容，最多显示 4 个对比字段（例如，对比日期选择日粒度，则对比内容选择显示日环比、周同比、月同比、年同比；对比日期选择月粒度，则对比内容选择显示月环比、年同比等）。
显示内容：默认选中差异百分比”，您可以勾选差异值或原始值。
差异值：数据展示格式与指标的展示格式一致。
差异百分比：展示格式为保留两位小数。
百分比差值计算 pt：默认不勾选。勾选该选项后，若用户选择差异值，且选择的对比指标为百分比指标，则自动显示为 pt，例如 5%-4%=1pt。
显示位置：默认指标右侧，也支持独立右侧和指标下方展示。

- 指标右侧：在当前指标的右侧新增一列指标，指标列名为年同比、日环比、月同比、周同比等，即为选中的对比方式。
  指标在列上时，副指标依次展示在指标右侧。
- 指标下方：在当前指标的下方新增多行对比指标，对齐方式与指标的对齐方式一致，文字左对齐，数值右对齐。
  与当前指标共用一行单元格，在当前指标的表头名下方新增一行名为日环比、周同比、月同比、年同比等，即为选中的对比方式。1
  根据当前的环境判断默认值，若中文则选中红正绿负，若当前环境为英文环境则绿正红负，选中后，报表无论切换到什么环境，颜色不会变，以配置项的颜色为准。
  同步样式到：可以把当前指标的配置同步显示到 N 个指标。

## 事件

[新建数据填报](https://help.aliyun.com/document_detail/104964.htm?spm=a2c4g.11186623.2.55.148e1466VK8R7l#concept-dqg-xzz-ngb)
[自建数据源 MySQL](https://help.aliyun.com/document_detail/166140.htm?spm=a2c4g.11186623.2.4.36015d85eCcLXt#task-2494322)
[BI 移动端](https://help.aliyun.com/document_detail/208292.html?spm=a2c4g.11186623.6.543.148e1466VK8R7l)

## 导出数据

仅当打开导出开关后，才能支持导出功能，请参见[导出控制](https://help.aliyun.com/document_detail/172232.htm?spm=a2c4g.11186623.2.48.11c21466AlBov2#task-2534900)。
单击交叉表右上方更多图标，选择导出。
在导出页面 ，配置以下参数：
参数项 参数项说明
导出名称 您可以自定义导出附件的名称。
导出格式 支持导出图片、PDF 和 EXCEL 格式。
说明 当导出交叉表时，如果您导出的文件格式为 EXCEL，您可以选择交叉表数据类型为带格式或纯数据。
当单元格超过 50000 个时，推荐您选择纯数据类型。
导出 Excel 文件仅支持前 10000 条记录。
组织管理员可以配置数据的导出格式，请参见导出控制。

导出渠道 支持导出到本地或 OSS 服务端。

# 聚合表和明细表

@所有人
交叉表下钻两个未明确的需求：

1. 当交叉表开启下钻时，行或者列中拖入重复的层级下的字段时，系统需要对比第二次拖入的字段层级。系统会默认只显示最高层级的字段。如果先拖入的字段时低层级字段，则后拖入的高层级字段会把底层级的字段覆盖掉。如果用户先在行或者列中拖入多个层级字段后，再开启层级，则系统会自动合并掉再一个层级中的字段，只显示层级最高的字段。
2. 交叉表中，行和列不能同时存在相同层级的字段。用户在行中拖入了一个层级中的字段后，在列中再拖入该层级下的字段后，则系统提示：行和列中不可同时存在一个层级中的字段。

要允许数据请求参数（主要是指 cols,rows）和页面不一致，主要是为了前端缓存，但是涉及到计算
