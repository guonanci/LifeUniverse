随机数生成原理（算法）
https://www.cnblogs.com/techflow/p/13924321.html

# 平方取中法

# LCG算法
*线性同余发生器Linear congruential generator LCG*，是一种能产生具有不连续计算的伪随机序列的分段线性方程的算法，它代表了最古老和最知名，的伪随机序列生成器算法之一。其理论相对容易理解，并且易于实现和快速出结果，特别是在通过*存储位截断提供模运算的计算机硬件上*。

一种*伪随机序列生成器算法*，能产生*具有不连续计算的伪随机序列的分段线性方程*。生成器由*循环关系定义：Xn+1=（aXn+c）mod m*
1. X是伪随机序列
2. m，0 < m 表示模量
3. a，0 < a < m 表示乘数
4. c, 0 <= c < m 表示增量
5. X0,0<=X0< m初始值
c是指定生成器的整数常量，如果c=0，该发生器称为乘法同余发生器MCG。如果c不等于0，称为混合同余发生器。
## 区间长度
线性同余发生器好处是，通过适当选择参数，区间长度可知且很长。虽然不是唯一标准，但是一般情况下太短的区间长度，在伪随机数发生器中是一个致命的缺陷。
虽然LCG能够产生伪随机数，且可以通过正规的随机性测试，但他对参数m和a的选择极为敏感。例如，a=1和c=1产生一个简单的m进制计数器，它具有长周期，但显然非随机。

参数选择常见的有三种：（1）为素数， ；（2）为2的幂， ；（3） 。
优缺点编辑 播报
线性同余发生器速度快，且需要较少的存储器保留状态，这使其对于模拟多个独立流非常有用。
线性同余发生器特有的一个缺陷是，如果用于选择n维空间中的点，那么这些点至多会位于 超平面。这是由于序列的连续值之间的序列相关性。草率选择地乘法器通常会有较少间距平面，易出问题。光谱测试是LCG质量的一个简单测试，测量区间长度和可选择的乘数。
LCG特有的另一个缺陷是当为2的幂时，低阶比特周期较短。这种情况可以通过使用大于所需输出的模数，并使用状态的最高有效比特来减轻。
LCG不可用于加密应用程序，或为这些应用程序使用密码安全的伪随机数生成器。然而，对于某些应用，LCG可能是一个不错的选择。例如，在嵌入式系统中，可用内存量通常受到严格限制。同样，在诸如视频游戏机这样的环境中，只需要一小部分LCG的高阶位就足够了。

这里我给大家分享一个业内常用的选择，a=25214903917，b=11（c），c=2的48次幂（m）。这些数不是拍脑袋随便选的，而是计算学家们算出来的。

计算学家，Java JDK中Random的类
线性同余发生器（Linear congruential generator），简称LCG，是一种能产生具有不连续计算的伪随机序列的分段线性方程的算法，它代表了最古老和最知名的伪随机序列生成器算法之一，其理论相对容易理解，并且易于实现和快速，特别是在可以通过存储位截断提供模运算的计算机硬件上。

*这并不是一个复杂的算法，因此LCG算法得到的随机数不能应用在一些高安全级别的应用上，否则可能会有安全隐患。*
*LCG算法实现的伪随机数效果还不错，但是周期不够长，很容易被黑客推算出随机种子*。

后来两个日本学者，又研究提出了新的伪随机数算法，在这个算法当中用到了梅森素数，所以称为*梅森旋转算法*。


# 梅森旋转算法
LCG算法实现的伪随机数效果还不错，但是周期不够长，很容易被黑客推算出随机种子。后来两个日本学者又研究提出了新的伪随机数算法，在这个算法当中用到了梅森素数，所以称为梅森旋转算法。

简单介绍一下梅森素数，梅森素数的意思是形如的素数。利用梅森素数的性质可以设计出周期长度为梅森素数长度的随机数周期。比如目前Python、C++11等语言当中用的随机数计算包都是用的这种算法。目前常用的版本周期是，这是一个巨大的天文数字。

梅森旋转算法的实现原理非常复杂，网上的资料也不多，我看过一些都不是非常好懂。这里就不介绍了，大家感兴趣可以去了解看看。但我个人觉得意义不大，因为实在是用不到，面试也完全不会考。

*虽然梅森旋转算法的周期非常非常长，但是仍不是安全的随机数算法，仍然有可能会被黑客破解。只不过和LCG算法相比，被破解的概率以及难度增加了许多*。

大家可能很好奇，*什么样的算法才是安全的呢？其实业内的安全算法其实挺取巧的，一般的常用方法就是利用一个数学界的难题来设计一个算法*。比如*RSA加密算法，利用的就是大整数因式分解的问题*。*这样的问题业内除了暴力计算没有好方法，而暴力计算的复杂度非常非常高，根本不可能在有限时间内有解，自然这个就是一个安全的算法*了。如果某位*黑客有能力设计出破解的算法来，他根本也不用破解啥，只要把解法发表成论文，自然可以名利双收*。

你看随机数这么一个常见的功能下面居然隐藏了这么深的科学原理，而且更加震惊的是以我们人类如此厉害的文明，居然连随机一个数都做不到。不知道大家看到这里又有何种感受呢？

https://zh.wikipedia.org/wiki/%E6%A2%85%E6%A3%AE%E6%97%8B%E8%BD%AC%E7%AE%97%E6%B3%95
